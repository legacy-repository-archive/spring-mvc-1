HTTP ì‘ë‹µ ë°ì´í„°
======================   
# ğŸ“• HTTP ì‘ë‹µ ë°ì´í„°   
HTTP ì‘ë‹µ ë©”ì‹œì§€ëŠ” ì£¼ë¡œ ë‹¤ìŒ ë‚´ìš©ì„ ë‹´ì•„ì„œ ì „ë‹¬í•œë‹¤.

* ë‹¨ìˆœ í…ìŠ¤íŠ¸ ì‘ë‹µ(`writer.println("ok");`)    
* HTML ì‘ë‹µ   
* HTTP API - MessageBody JSON ì‘ë‹µ   
   
## ğŸ“– HttpServletResponse - HTML ì‘ë‹µ   

```java
@WebServlet(name = "responseHtmlServlet", urlPatterns = "/response-html")
public class ResponseHtmlServlet extends HttpServlet {
    @Override
    protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        //Content-Type: text/html;charset=utf-8
        
        response.setContentType("text/html");
        response.setCharacterEncoding("utf-8");
        PrintWriter writer = response.getWriter();
        writer.println("<html>");
        writer.println("<body>");
        writer.println(" <div>ì•ˆë…•?</div>");
        writer.println("</body>");
        writer.println("</html>");
    }
}
```
`HTML ì‘ë‹µ`ì€ `Content-Type`ì„ `text/html`ë¡œ ë³´ëƒˆì„ ë•Œ ì ìš©ë  ìˆ˜ ìˆë‹¤.     
ê¸°ì¡´ ë°©ì‹ê³¼ ë™ì¼í•˜ê²Œ `PrintWriter`ì˜ `println` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ì„œ          
`HTML DOM` ìš”ì†Œë“¤ì„ ë„˜ê¸°ë©´ ëœë‹¤.       

## ğŸ“– HTTP ì‘ë‹µ ë°ì´í„° - API JSON

```java
@WebServlet(name = "responseJsonServlet", urlPatterns = "/response-json")
public class ResponseJsonServlet extends HttpServlet {
    private ObjectMapper objectMapper = new ObjectMapper();

    @Override
    protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        //Content-Type: application/json
        response.setHeader("content-type", "application/json");
        response.setCharacterEncoding("utf-8");
        HelloData data = new HelloData();
        data.setUsername("kim");
        data.setAge(20);
        String result = objectMapper.writeValueAsString(data); //{"username":"kim","age":20}
        response.getWriter().write(result);
    }
}
```
`Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬`ì˜ `ObjectMapper` ì˜ `writeValueAsString`ì´ìš©í•´ì„œ       
ê°ì²´ë¥¼ `JSON í˜•íƒœ`ì˜ Stringìœ¼ë¡œ ë³€í™˜ì„ í•  ìˆ˜ ìˆë‹¤.             
**ì´ë•Œ, `content-type`ì„ `application/json` ë¡œ ì§€ì •í•´ì•¼ í•œë‹¤.**   

**ì°¸ê³ **   
`application/json` ì€ ìŠ¤í™ìƒ `utf-8` í˜•ì‹ì„ ì‚¬ìš©í•˜ë„ë¡ ì •ì˜ë˜ì–´ ìˆë‹¤.    
ê·¸ë˜ì„œ ìŠ¤í™ì—ì„œ `charset=utf-8`ê³¼ ê°™ì€ ì¶”ê°€ íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.   

ë§Œì•½, `application/json;charset=utf-8` ì´ë¼ê³  ì „ë‹¬í•˜ëŠ” ê²ƒì€ ì˜ë¯¸ ì—†ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í•œ ê²ƒì´ ëœë‹¤.    
ë”ë¶ˆì–´ `response.getWriter()`ë¥¼ ì‚¬ìš©í•˜ë©´ ì¶”ê°€ íŒŒë¼ë¯¸í„°ë¥¼ ìë™ìœ¼ë¡œ ì¶”ê°€í•´ë²„ë ¤ì„œ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.         
ì´ë•ŒëŠ” `response.getOutputStream()`ìœ¼ë¡œ ì¶œë ¥í•˜ë©´ ê·¸ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.    

